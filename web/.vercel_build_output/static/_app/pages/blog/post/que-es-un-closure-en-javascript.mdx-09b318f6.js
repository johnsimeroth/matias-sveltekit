import{S as a,i as n,s as e,B as s,j as o,m as t,o as c,p as r,q as p,x as l,u,v as i,N as d,k as f,e as k,t as m,n as h,c as v,a as E,g,d as $,b,f as q,G as x}from"../../../chunks/vendor-64eebebd.js";import{P as y}from"../../../chunks/PostLayout-1d1b8b8e.js";import{Q as C}from"../../../chunks/Quote-982ae035.js";function j(a){let n,e,s,o,t;return{c(){n=k("p"),e=m("Esto es parte del material del curso “Javascript para React” del newsletter "),s=k("a"),o=m("Microbytes"),t=m(" únete para recibir este contenido directamente en tu inbox"),this.h()},l(a){n=v(a,"P",{});var c=E(n);e=g(c,"Esto es parte del material del curso “Javascript para React” del newsletter "),s=v(c,"A",{href:!0,rel:!0});var r=E(s);o=g(r,"Microbytes"),r.forEach($),t=g(c," únete para recibir este contenido directamente en tu inbox"),c.forEach($),this.h()},h(){b(s,"href","https://microbytes.matiashernandez.dev"),b(s,"rel","nofollow")},m(a,c){q(a,n,c),x(n,e),x(n,s),x(s,o),x(n,t)},d(a){a&&$(n)}}}function w(a){let n,e;return{c(){n=k("p"),e=m("TLDR;  Tienes una closure cuando una función cualquiera accede a una variable fuera de su contexto.")},l(a){n=v(a,"P",{});var s=E(n);e=g(s,"TLDR;  Tienes una closure cuando una función cualquiera accede a una variable fuera de su contexto."),s.forEach($)},m(a,s){q(a,n,s),x(n,e)},d(a){a&&$(n)}}}function P(a){let n,e;return{c(){n=k("p"),e=m("Puedes leer más en")},l(a){n=v(a,"P",{});var s=E(n);e=g(s,"Puedes leer más en"),s.forEach($)},m(a,s){q(a,n,s),x(n,e)},d(a){a&&$(n)}}}function O(a){let n,e,s;return{c(){n=k("p"),e=k("a"),s=m("https://matiashernandez.dev/react-useeffect-hook-comparado-con-los-estados-del-ciclo-de-vida"),this.h()},l(a){n=v(a,"P",{});var o=E(n);e=v(o,"A",{href:!0,rel:!0});var t=E(e);s=g(t,"https://matiashernandez.dev/react-useeffect-hook-comparado-con-los-estados-del-ciclo-de-vida"),t.forEach($),o.forEach($),this.h()},h(){b(e,"href","https://matiashernandez.dev/react-useeffect-hook-comparado-con-los-estados-del-ciclo-de-vida"),b(e,"rel","nofollow")},m(a,o){q(a,n,o),x(n,e),x(e,s)},d(a){a&&$(n)}}}function D(a){let n,e,s;return{c(){n=k("p"),e=k("a"),s=m("https://matiashernandez.dev/react-useeffect-por-que-el-arreglo-de-dependencias-es-importante"),this.h()},l(a){n=v(a,"P",{});var o=E(n);e=v(o,"A",{href:!0,rel:!0});var t=E(e);s=g(t,"https://matiashernandez.dev/react-useeffect-por-que-el-arreglo-de-dependencias-es-importante"),t.forEach($),o.forEach($),this.h()},h(){b(e,"href","https://matiashernandez.dev/react-useeffect-por-que-el-arreglo-de-dependencias-es-importante"),b(e,"rel","nofollow")},m(a,o){q(a,n,o),x(n,e),x(e,s)},d(a){a&&$(n)}}}function z(a){let n,e;return{c(){n=k("p"),e=m("seguiremos hablando sobre este hook más adelante")},l(a){n=v(a,"P",{});var s=E(n);e=g(s,"seguiremos hablando sobre este hook más adelante"),s.forEach($)},m(a,s){q(a,n,s),x(n,e)},d(a){a&&$(n)}}}function L(a){let n,e;return{c(){n=k("p"),e=m("¿Qué crees que pasa y como puedes solucionarlo?")},l(a){n=v(a,"P",{});var s=E(n);e=g(s,"¿Qué crees que pasa y como puedes solucionarlo?"),s.forEach($)},m(a,s){q(a,n,s),x(n,e)},d(a){a&&$(n)}}}function R(a){let n,e,s,r,p,d,y,R,T,S,A,H,Q,_,M,N,U,J,G,I,B,F,W,Z,K,V,X,Y,aa,na,ea,sa,oa,ta,ca,ra,pa,la,ua,ia,da,fa,ka,ma,ha,va,Ea,ga,$a,ba,qa,xa,ya,Ca,ja,wa,Pa,Oa,Da,za,La,Ra,Ta,Sa,Aa,Ha,Qa,_a,Ma,Na,Ua,Ja,Ga,Ia,Ba,Fa,Wa,Za,Ka,Va,Xa,Ya,an,nn,en,sn,on,tn,cn,rn,pn,ln,un,dn,fn,kn,mn,hn,vn,En,gn,$n,bn,qn,xn,yn,Cn,jn,wn,Pn,On,Dn,zn,Ln,Rn,Tn,Sn,An,Hn,Qn,_n,Mn,Nn,Un,Jn,Gn,In,Bn,Fn,Wn,Zn,Kn,Vn,Xn,Yn,ae,ne,ee,se,oe,te,ce,re,pe,le,ue,ie,de,fe,ke,me,he,ve,Ee,ge,$e,be,qe,xe,ye,Ce,je,we,Pe,Oe,De,ze,Le,Re,Te,Se,Ae,He,Qe,_e,Me,Ne,Ue,Je,Ge,Ie,Be,Fe,We,Ze,Ke,Ve,Xe,Ye,as,ns,es,ss,os,ts,cs,rs,ps,ls,us,is,ds,fs,ks,ms,hs,vs,Es,gs,$s,bs,qs,xs,ys,Cs,js,ws,Ps,Os,Ds,zs,Ls,Rs,Ts,Ss,As,Hs,Qs,_s;return n=new C({props:{$$slots:{default:[j]},$$scope:{ctx:a}}}),d=new C({props:{$$slots:{default:[w]},$$scope:{ctx:a}}}),_e=new C({props:{$$slots:{default:[P]},$$scope:{ctx:a}}}),Ne=new C({props:{$$slots:{default:[O]},$$scope:{ctx:a}}}),Je=new C({props:{$$slots:{default:[D]},$$scope:{ctx:a}}}),es=new C({props:{$$slots:{default:[z]},$$scope:{ctx:a}}}),Qs=new C({props:{$$slots:{default:[L]},$$scope:{ctx:a}}}),{c(){o(n.$$.fragment),e=f(),s=k("h1"),r=m("Closures"),p=f(),o(d.$$.fragment),y=f(),R=k("p"),T=m("Un elemento escencial en el desarrollo de software es la existencia y uso de funciones, ¿por qué? Por que es la forma “natural” de encapsular cierta lógica y compartirla con otras partes de tu aplicación."),S=f(),A=k("p"),H=m("En Javascript un "),Q=k("strong"),_=m("closure"),M=m(" es creado cada vez que una función es creado, y dado que este tipo de funciones pueden acceder a valores fuera de su propio contexto, el uso de "),N=k("strong"),U=m("closures"),J=m(" permite crear y manejar el concepto de "),G=k("strong"),I=m("estado"),B=m(" o variables privadas que pueden ser accesibles incluso  cuando la función padre dejo de existir después de su invocación."),F=f(),W=k("pre"),Z=f(),K=k("p"),V=m("Aquí tenemos la variable "),X=k("code"),Y=m("mensaje"),aa=m(" dentro de la función "),na=k("code"),ea=m("exterior"),sa=m(". Es una variable local y no puede ser accedida desde fuera de la función, pero si desde el interior de la función en la función "),oa=k("code"),ta=m("interior"),ca=m("."),ra=f(),pa=k("p"),la=m("Cuando asignamos la función "),ua=k("code"),ia=m("exterior"),da=m(" a la variable "),fa=k("code"),ka=m("foo"),ma=m(" lo que ocurre es lo siguiente:"),ha=f(),va=k("ul"),Ea=k("li"),ga=m("La función "),$a=k("code"),ba=m("exterior"),qa=m(" se ejecuta una vez y "),xa=k("code"),ya=m("foo"),Ca=m(" se convierte ahora en la declaración de una función (se le asigna el “valor” de lo que retorna "),ja=k("code"),wa=m("exterior"),Pa=m(" que en este caso es "),Oa=k("code"),Da=m("interior"),za=m(")."),La=f(),Ra=k("li"),Ta=m("La variable "),Sa=k("code"),Aa=m("foo"),Ha=m(" tiene acceso a la función (closure) "),Qa=k("code"),_a=m("interior"),Ma=m(" y desde ahí a la variable "),Na=k("code"),Ua=m("mensaje"),Ja=m("."),Ga=f(),Ia=k("p"),Ba=m("En javascript los closures son creados con toda la información del entorno donde fueron creadas. La función "),Fa=k("code"),Wa=m("foo"),Za=m(" tiene una referencia al closure "),Ka=k("code"),Va=m("interior"),Xa=m(", el que fue creado durante la ejecución de la función "),Ya=k("code"),an=m("exterior"),nn=m(". La función "),en=k("code"),sn=m("interior"),on=m(" (el closure) mantiene la información de su ambiente: La variable "),tn=k("code"),cn=m("mensaje"),rn=m("."),pn=f(),ln=k("p"),un=m("Puedes leer más sobre Closures en "),dn=k("a"),fn=m("https://www.freecodecamp.org/espanol/news/que-es-un-closure-en-javascript/"),kn=f(),mn=k("h2"),hn=m("¿Por qué aprender sobre Closures para trabajar con React?"),vn=f(),En=k("p"),gn=m("Closures están por todas partes en React, sobre todo ahora con la existencia y uso de la API de hooks. Los hooks se basan fuertemente en el uso de closures, lo que permite que los hooks sean tan expresivos y simples."),$n=f(),bn=k("p"),qn=m("Un problema que se presenta con este extensivo uso de closures es el de “el closure rancio” (stale closure) ¿WTF es esto?"),xn=f(),yn=k("h3"),Cn=m("Stale Closure"),jn=f(),wn=k("p"),Pn=m("Revisemos el siguiente código"),On=f(),Dn=k("pre"),zn=f(),Ln=k("p"),Rn=m("Puedes ver el "),Tn=k("a"),Sn=m("demo aqui"),An=f(),Hn=k("p"),Qn=m("Claramente algo extraño pasa aquí, la función "),_n=k("code"),Mn=m("log"),Nn=m(" nos muestra que el valor es "),Un=k("code"),Jn=m("0"),Gn=m(" cuando sabemos que debe ser "),In=k("code"),Bn=m("1"),Fn=m("."),Wn=f(),Zn=k("p"),Kn=m("Esta es un “stale closure”. El closure "),Vn=k("code"),Xn=m("log"),Yn=m(" capturó el valor de "),ae=k("code"),ne=m("mensaje"),ee=m(" en la primera ejecución de la función "),se=k("code"),oe=m("contador"),te=m(" cuando el valor de "),ce=k("code"),re=m("value"),pe=m(" era "),le=k("code"),ue=m("0"),ie=m("."),de=f(),fe=k("h3"),ke=m("¿Cómo arreglarlo?"),me=f(),he=k("p"),ve=m("La solución es “sencilla”. Primer debemos notar que el closure "),Ee=k("code"),ge=m("log"),$e=m(" se cerró sobre la variable "),be=k("code"),qe=m("mensaje"),xe=m(" que no es la variable que cambia. Entonces, debemos refactorizar este trozo de código para cerrar nuestro closure sobre la variable que realmente cambia"),ye=f(),Ce=k("pre"),je=f(),we=k("h3"),Pe=m("¿Qué relación tiene con React?"),Oe=f(),De=k("p"),ze=m("Sabemos que los hooks se basan en el funcionamiento de las closures, y uno de los hooks más “complejos” y utilizados es  "),Le=k("code"),Re=m("useEffect"),Te=m(". Este hook se utiliza para ejecutar "),Se=k("strong"),Ae=m("efectos,"),He=m(" es decir, para sincronizar el estado interno del componente con algún estado externo."),Qe=f(),o(_e.$$.fragment),Me=f(),o(Ne.$$.fragment),Ue=f(),o(Je.$$.fragment),Ge=f(),Ie=k("p"),Be=k("code"),Fe=m("useEffect"),We=m(" recibe un "),Ze=k("code"),Ke=m("callback"),Ve=m(" que es en efecto un closure y un arreglo de dependencias que le indica que “valores observar” para ejecutar el closure definido."),Xe=f(),Ye=k("p"),as=m("Si no indicas ningún valor en el arreglo de dependencias el closure usado como primer argumento se “cerrar” sobre los valores existentes en el primer render."),ns=f(),o(es.$$.fragment),ss=f(),os=k("p"),ts=m("Otro caso es con el hook "),cs=k("code"),rs=m("useState"),ps=m(". Este hook retorna una tupla con el valor del estado y una función que permite actualizar el estado."),ls=f(),us=k("pre"),is=f(),ds=k("p"),fs=m("Este simple componente renderiza un botón que al ser clickeado actualiza el estado añadiendo "),ks=k("code"),ms=m("1"),hs=m(" al valor de "),vs=k("code"),Es=m("count"),gs=m(" pero lo hace después de 1 segundo."),$s=f(),bs=k("p"),qs=m("Al hacer un par de clicks en el botón (más rápido que 1 segundo) se esperaría que el valor de  "),xs=k("code"),ys=m("count"),Cs=m(" fuese "),js=k("code"),ws=m("2"),Ps=m(" pero es en realidad "),Os=k("code"),Ds=m("1"),zs=m("."),Ls=f(),Rs=k("p"),Ts=m("Puedes ver el "),Ss=k("a"),As=m("demo aquí"),Hs=f(),o(Qs.$$.fragment),this.h()},l(a){t(n.$$.fragment,a),e=h(a),s=v(a,"H1",{id:!0});var o=E(s);r=g(o,"Closures"),o.forEach($),p=h(a),t(d.$$.fragment,a),y=h(a),R=v(a,"P",{});var c=E(R);T=g(c,"Un elemento escencial en el desarrollo de software es la existencia y uso de funciones, ¿por qué? Por que es la forma “natural” de encapsular cierta lógica y compartirla con otras partes de tu aplicación."),c.forEach($),S=h(a),A=v(a,"P",{});var l=E(A);H=g(l,"En Javascript un "),Q=v(l,"STRONG",{});var u=E(Q);_=g(u,"closure"),u.forEach($),M=g(l," es creado cada vez que una función es creado, y dado que este tipo de funciones pueden acceder a valores fuera de su propio contexto, el uso de "),N=v(l,"STRONG",{});var i=E(N);U=g(i,"closures"),i.forEach($),J=g(l," permite crear y manejar el concepto de "),G=v(l,"STRONG",{});var f=E(G);I=g(f,"estado"),f.forEach($),B=g(l," o variables privadas que pueden ser accesibles incluso  cuando la función padre dejo de existir después de su invocación."),l.forEach($),F=h(a),W=v(a,"PRE",{class:!0}),E(W).forEach($),Z=h(a),K=v(a,"P",{});var k=E(K);V=g(k,"Aquí tenemos la variable "),X=v(k,"CODE",{});var m=E(X);Y=g(m,"mensaje"),m.forEach($),aa=g(k," dentro de la función "),na=v(k,"CODE",{});var b=E(na);ea=g(b,"exterior"),b.forEach($),sa=g(k,". Es una variable local y no puede ser accedida desde fuera de la función, pero si desde el interior de la función en la función "),oa=v(k,"CODE",{});var q=E(oa);ta=g(q,"interior"),q.forEach($),ca=g(k,"."),k.forEach($),ra=h(a),pa=v(a,"P",{});var x=E(pa);la=g(x,"Cuando asignamos la función "),ua=v(x,"CODE",{});var C=E(ua);ia=g(C,"exterior"),C.forEach($),da=g(x," a la variable "),fa=v(x,"CODE",{});var j=E(fa);ka=g(j,"foo"),j.forEach($),ma=g(x," lo que ocurre es lo siguiente:"),x.forEach($),ha=h(a),va=v(a,"UL",{});var w=E(va);Ea=v(w,"LI",{});var P=E(Ea);ga=g(P,"La función "),$a=v(P,"CODE",{});var O=E($a);ba=g(O,"exterior"),O.forEach($),qa=g(P," se ejecuta una vez y "),xa=v(P,"CODE",{});var D=E(xa);ya=g(D,"foo"),D.forEach($),Ca=g(P," se convierte ahora en la declaración de una función (se le asigna el “valor” de lo que retorna "),ja=v(P,"CODE",{});var z=E(ja);wa=g(z,"exterior"),z.forEach($),Pa=g(P," que en este caso es "),Oa=v(P,"CODE",{});var L=E(Oa);Da=g(L,"interior"),L.forEach($),za=g(P,")."),P.forEach($),La=h(w),Ra=v(w,"LI",{});var _s=E(Ra);Ta=g(_s,"La variable "),Sa=v(_s,"CODE",{});var Ms=E(Sa);Aa=g(Ms,"foo"),Ms.forEach($),Ha=g(_s," tiene acceso a la función (closure) "),Qa=v(_s,"CODE",{});var Ns=E(Qa);_a=g(Ns,"interior"),Ns.forEach($),Ma=g(_s," y desde ahí a la variable "),Na=v(_s,"CODE",{});var Us=E(Na);Ua=g(Us,"mensaje"),Us.forEach($),Ja=g(_s,"."),_s.forEach($),w.forEach($),Ga=h(a),Ia=v(a,"P",{});var Js=E(Ia);Ba=g(Js,"En javascript los closures son creados con toda la información del entorno donde fueron creadas. La función "),Fa=v(Js,"CODE",{});var Gs=E(Fa);Wa=g(Gs,"foo"),Gs.forEach($),Za=g(Js," tiene una referencia al closure "),Ka=v(Js,"CODE",{});var Is=E(Ka);Va=g(Is,"interior"),Is.forEach($),Xa=g(Js,", el que fue creado durante la ejecución de la función "),Ya=v(Js,"CODE",{});var Bs=E(Ya);an=g(Bs,"exterior"),Bs.forEach($),nn=g(Js,". La función "),en=v(Js,"CODE",{});var Fs=E(en);sn=g(Fs,"interior"),Fs.forEach($),on=g(Js," (el closure) mantiene la información de su ambiente: La variable "),tn=v(Js,"CODE",{});var Ws=E(tn);cn=g(Ws,"mensaje"),Ws.forEach($),rn=g(Js,"."),Js.forEach($),pn=h(a),ln=v(a,"P",{});var Zs=E(ln);un=g(Zs,"Puedes leer más sobre Closures en "),dn=v(Zs,"A",{href:!0,rel:!0});var Ks=E(dn);fn=g(Ks,"https://www.freecodecamp.org/espanol/news/que-es-un-closure-en-javascript/"),Ks.forEach($),Zs.forEach($),kn=h(a),mn=v(a,"H2",{id:!0});var Vs=E(mn);hn=g(Vs,"¿Por qué aprender sobre Closures para trabajar con React?"),Vs.forEach($),vn=h(a),En=v(a,"P",{});var Xs=E(En);gn=g(Xs,"Closures están por todas partes en React, sobre todo ahora con la existencia y uso de la API de hooks. Los hooks se basan fuertemente en el uso de closures, lo que permite que los hooks sean tan expresivos y simples."),Xs.forEach($),$n=h(a),bn=v(a,"P",{});var Ys=E(bn);qn=g(Ys,"Un problema que se presenta con este extensivo uso de closures es el de “el closure rancio” (stale closure) ¿WTF es esto?"),Ys.forEach($),xn=h(a),yn=v(a,"H3",{id:!0});var ao=E(yn);Cn=g(ao,"Stale Closure"),ao.forEach($),jn=h(a),wn=v(a,"P",{});var no=E(wn);Pn=g(no,"Revisemos el siguiente código"),no.forEach($),On=h(a),Dn=v(a,"PRE",{class:!0}),E(Dn).forEach($),zn=h(a),Ln=v(a,"P",{});var eo=E(Ln);Rn=g(eo,"Puedes ver el "),Tn=v(eo,"A",{href:!0,rel:!0});var so=E(Tn);Sn=g(so,"demo aqui"),so.forEach($),eo.forEach($),An=h(a),Hn=v(a,"P",{});var oo=E(Hn);Qn=g(oo,"Claramente algo extraño pasa aquí, la función "),_n=v(oo,"CODE",{});var to=E(_n);Mn=g(to,"log"),to.forEach($),Nn=g(oo," nos muestra que el valor es "),Un=v(oo,"CODE",{});var co=E(Un);Jn=g(co,"0"),co.forEach($),Gn=g(oo," cuando sabemos que debe ser "),In=v(oo,"CODE",{});var ro=E(In);Bn=g(ro,"1"),ro.forEach($),Fn=g(oo,"."),oo.forEach($),Wn=h(a),Zn=v(a,"P",{});var po=E(Zn);Kn=g(po,"Esta es un “stale closure”. El closure "),Vn=v(po,"CODE",{});var lo=E(Vn);Xn=g(lo,"log"),lo.forEach($),Yn=g(po," capturó el valor de "),ae=v(po,"CODE",{});var uo=E(ae);ne=g(uo,"mensaje"),uo.forEach($),ee=g(po," en la primera ejecución de la función "),se=v(po,"CODE",{});var io=E(se);oe=g(io,"contador"),io.forEach($),te=g(po," cuando el valor de "),ce=v(po,"CODE",{});var fo=E(ce);re=g(fo,"value"),fo.forEach($),pe=g(po," era "),le=v(po,"CODE",{});var ko=E(le);ue=g(ko,"0"),ko.forEach($),ie=g(po,"."),po.forEach($),de=h(a),fe=v(a,"H3",{id:!0});var mo=E(fe);ke=g(mo,"¿Cómo arreglarlo?"),mo.forEach($),me=h(a),he=v(a,"P",{});var ho=E(he);ve=g(ho,"La solución es “sencilla”. Primer debemos notar que el closure "),Ee=v(ho,"CODE",{});var vo=E(Ee);ge=g(vo,"log"),vo.forEach($),$e=g(ho," se cerró sobre la variable "),be=v(ho,"CODE",{});var Eo=E(be);qe=g(Eo,"mensaje"),Eo.forEach($),xe=g(ho," que no es la variable que cambia. Entonces, debemos refactorizar este trozo de código para cerrar nuestro closure sobre la variable que realmente cambia"),ho.forEach($),ye=h(a),Ce=v(a,"PRE",{class:!0}),E(Ce).forEach($),je=h(a),we=v(a,"H3",{id:!0});var go=E(we);Pe=g(go,"¿Qué relación tiene con React?"),go.forEach($),Oe=h(a),De=v(a,"P",{});var $o=E(De);ze=g($o,"Sabemos que los hooks se basan en el funcionamiento de las closures, y uno de los hooks más “complejos” y utilizados es  "),Le=v($o,"CODE",{});var bo=E(Le);Re=g(bo,"useEffect"),bo.forEach($),Te=g($o,". Este hook se utiliza para ejecutar "),Se=v($o,"STRONG",{});var qo=E(Se);Ae=g(qo,"efectos,"),qo.forEach($),He=g($o," es decir, para sincronizar el estado interno del componente con algún estado externo."),$o.forEach($),Qe=h(a),t(_e.$$.fragment,a),Me=h(a),t(Ne.$$.fragment,a),Ue=h(a),t(Je.$$.fragment,a),Ge=h(a),Ie=v(a,"P",{});var xo=E(Ie);Be=v(xo,"CODE",{});var yo=E(Be);Fe=g(yo,"useEffect"),yo.forEach($),We=g(xo," recibe un "),Ze=v(xo,"CODE",{});var Co=E(Ze);Ke=g(Co,"callback"),Co.forEach($),Ve=g(xo," que es en efecto un closure y un arreglo de dependencias que le indica que “valores observar” para ejecutar el closure definido."),xo.forEach($),Xe=h(a),Ye=v(a,"P",{});var jo=E(Ye);as=g(jo,"Si no indicas ningún valor en el arreglo de dependencias el closure usado como primer argumento se “cerrar” sobre los valores existentes en el primer render."),jo.forEach($),ns=h(a),t(es.$$.fragment,a),ss=h(a),os=v(a,"P",{});var wo=E(os);ts=g(wo,"Otro caso es con el hook "),cs=v(wo,"CODE",{});var Po=E(cs);rs=g(Po,"useState"),Po.forEach($),ps=g(wo,". Este hook retorna una tupla con el valor del estado y una función que permite actualizar el estado."),wo.forEach($),ls=h(a),us=v(a,"PRE",{class:!0}),E(us).forEach($),is=h(a),ds=v(a,"P",{});var Oo=E(ds);fs=g(Oo,"Este simple componente renderiza un botón que al ser clickeado actualiza el estado añadiendo "),ks=v(Oo,"CODE",{});var Do=E(ks);ms=g(Do,"1"),Do.forEach($),hs=g(Oo," al valor de "),vs=v(Oo,"CODE",{});var zo=E(vs);Es=g(zo,"count"),zo.forEach($),gs=g(Oo," pero lo hace después de 1 segundo."),Oo.forEach($),$s=h(a),bs=v(a,"P",{});var Lo=E(bs);qs=g(Lo,"Al hacer un par de clicks en el botón (más rápido que 1 segundo) se esperaría que el valor de  "),xs=v(Lo,"CODE",{});var Ro=E(xs);ys=g(Ro,"count"),Ro.forEach($),Cs=g(Lo," fuese "),js=v(Lo,"CODE",{});var To=E(js);ws=g(To,"2"),To.forEach($),Ps=g(Lo," pero es en realidad "),Os=v(Lo,"CODE",{});var So=E(Os);Ds=g(So,"1"),So.forEach($),zs=g(Lo,"."),Lo.forEach($),Ls=h(a),Rs=v(a,"P",{});var Ao=E(Rs);Ts=g(Ao,"Puedes ver el "),Ss=v(Ao,"A",{href:!0,rel:!0});var Ho=E(Ss);As=g(Ho,"demo aquí"),Ho.forEach($),Ao.forEach($),Hs=h(a),t(Qs.$$.fragment,a),this.h()},h(){b(s,"id","closures"),b(W,"class","language-jsx"),b(dn,"href","https://www.freecodecamp.org/espanol/news/que-es-un-closure-en-javascript/"),b(dn,"rel","nofollow"),b(mn,"id","¿por-qué-aprender-sobre-closures-para-trabajar-con-react"),b(yn,"id","stale-closure"),b(Dn,"class","language-jsx"),b(Tn,"href","https://jsitor.com/UQpQtnE_I"),b(Tn,"rel","nofollow"),b(fe,"id","¿cómo-arreglarlo"),b(Ce,"class","language-jsx"),b(we,"id","¿qué-relación-tiene-con-react"),b(us,"class","language-jsx"),b(Ss,"href","https://codesandbox.io/s/beautiful-sunset-k1bkl?file=/src/App.js"),b(Ss,"rel","nofollow")},m(a,o){c(n,a,o),q(a,e,o),q(a,s,o),x(s,r),q(a,p,o),c(d,a,o),q(a,y,o),q(a,R,o),x(R,T),q(a,S,o),q(a,A,o),x(A,H),x(A,Q),x(Q,_),x(A,M),x(A,N),x(N,U),x(A,J),x(A,G),x(G,I),x(A,B),q(a,F,o),q(a,W,o),W.innerHTML='<code class="language-jsx"><span class="token keyword">function</span> <span class="token function">exterior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>\n\t<span class="token keyword">const</span> mensaje <span class="token operator">=</span> <span class="token string">\'Hola mundo\'</span><span class="token punctuation">;</span>\n  <span class="token keyword">function</span> <span class="token function">interior</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n       <span class="token keyword">return</span> mensaje<span class="token punctuation">;</span>\n  <span class="token punctuation">&#125;</span>\n  <span class="token keyword">return</span> interior<span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span>\n\n<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token function">exterior</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//retorna el mensaje "Hola mundo"</span></code>',q(a,Z,o),q(a,K,o),x(K,V),x(K,X),x(X,Y),x(K,aa),x(K,na),x(na,ea),x(K,sa),x(K,oa),x(oa,ta),x(K,ca),q(a,ra,o),q(a,pa,o),x(pa,la),x(pa,ua),x(ua,ia),x(pa,da),x(pa,fa),x(fa,ka),x(pa,ma),q(a,ha,o),q(a,va,o),x(va,Ea),x(Ea,ga),x(Ea,$a),x($a,ba),x(Ea,qa),x(Ea,xa),x(xa,ya),x(Ea,Ca),x(Ea,ja),x(ja,wa),x(Ea,Pa),x(Ea,Oa),x(Oa,Da),x(Ea,za),x(va,La),x(va,Ra),x(Ra,Ta),x(Ra,Sa),x(Sa,Aa),x(Ra,Ha),x(Ra,Qa),x(Qa,_a),x(Ra,Ma),x(Ra,Na),x(Na,Ua),x(Ra,Ja),q(a,Ga,o),q(a,Ia,o),x(Ia,Ba),x(Ia,Fa),x(Fa,Wa),x(Ia,Za),x(Ia,Ka),x(Ka,Va),x(Ia,Xa),x(Ia,Ya),x(Ya,an),x(Ia,nn),x(Ia,en),x(en,sn),x(Ia,on),x(Ia,tn),x(tn,cn),x(Ia,rn),q(a,pn,o),q(a,ln,o),x(ln,un),x(ln,dn),x(dn,fn),q(a,kn,o),q(a,mn,o),x(mn,hn),q(a,vn,o),q(a,En,o),x(En,gn),q(a,$n,o),q(a,bn,o),x(bn,qn),q(a,xn,o),q(a,yn,o),x(yn,Cn),q(a,jn,o),q(a,wn,o),x(wn,Pn),q(a,On,o),q(a,Dn,o),Dn.innerHTML='<code class="language-jsx"><span class="token keyword">function</span> <span class="token function">contador</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>\n  <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n  <span class="token keyword">function</span> <span class="token function">incrementar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n    value<span class="token operator">++</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>\n  <span class="token punctuation">&#125;</span>\n  <span class="token keyword">function</span> <span class="token function">decrementar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n    value<span class="token operator">--</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>\n  <span class="token punctuation">&#125;</span>\n  <span class="token keyword">const</span> mensaje <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">El valor actual es </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>value<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span>\n  <span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mensaje<span class="token punctuation">)</span>\n  <span class="token punctuation">&#125;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">[</span>incrementar<span class="token punctuation">,</span> decrementar<span class="token punctuation">,</span> log<span class="token punctuation">]</span>\n<span class="token punctuation">&#125;</span>\n<span class="token keyword">const</span> <span class="token punctuation">[</span>incrementar<span class="token punctuation">,</span> decrementar<span class="token punctuation">,</span> log<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">contador</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token function">incrementar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs 1</span>\n<span class="token function">incrementar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs 2</span>\n<span class="token function">decrementar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs 1</span>\n<span class="token comment">// No funciona</span>\n<span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// logs "El valor actual es 0"</span></code>',q(a,zn,o),q(a,Ln,o),x(Ln,Rn),x(Ln,Tn),x(Tn,Sn),q(a,An,o),q(a,Hn,o),x(Hn,Qn),x(Hn,_n),x(_n,Mn),x(Hn,Nn),x(Hn,Un),x(Un,Jn),x(Hn,Gn),x(Hn,In),x(In,Bn),x(Hn,Fn),q(a,Wn,o),q(a,Zn,o),x(Zn,Kn),x(Zn,Vn),x(Vn,Xn),x(Zn,Yn),x(Zn,ae),x(ae,ne),x(Zn,ee),x(Zn,se),x(se,oe),x(Zn,te),x(Zn,ce),x(ce,re),x(Zn,pe),x(Zn,le),x(le,ue),x(Zn,ie),q(a,de,o),q(a,fe,o),x(fe,ke),q(a,me,o),q(a,he,o),x(he,ve),x(he,Ee),x(Ee,ge),x(he,$e),x(he,be),x(be,qe),x(he,xe),q(a,ye,o),q(a,Ce,o),Ce.innerHTML='<code class="language-jsx"><span class="token operator">...</span>\n<span class="token operator">...</span>\n<span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n\t<span class="token keyword">const</span> mensaje <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">El valor actual es </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>value<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span>\n\tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mensaje<span class="token punctuation">)</span>\n<span class="token punctuation">&#125;</span>\n<span class="token operator">...</span>\n<span class="token operator">...</span></code>',q(a,je,o),q(a,we,o),x(we,Pe),q(a,Oe,o),q(a,De,o),x(De,ze),x(De,Le),x(Le,Re),x(De,Te),x(De,Se),x(Se,Ae),x(De,He),q(a,Qe,o),c(_e,a,o),q(a,Me,o),c(Ne,a,o),q(a,Ue,o),c(Je,a,o),q(a,Ge,o),q(a,Ie,o),x(Ie,Be),x(Be,Fe),x(Ie,We),x(Ie,Ze),x(Ze,Ke),x(Ie,Ve),q(a,Xe,o),q(a,Ye,o),x(Ye,as),q(a,ns,o),c(es,a,o),q(a,ss,o),q(a,os,o),x(os,ts),x(os,cs),x(cs,rs),x(os,ps),q(a,ls,o),q(a,us,o),us.innerHTML='<code class="language-jsx"><span class="token keyword">function</span> <span class="token function">Contador</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">function</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>\n      <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">&#125;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token punctuation">&#123;</span>count<span class="token punctuation">&#125;</span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">&#123;</span>onClick<span class="token punctuation">&#125;</span></span><span class="token punctuation">></span></span><span class="token plain-text">+1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span></code>',q(a,is,o),q(a,ds,o),x(ds,fs),x(ds,ks),x(ks,ms),x(ds,hs),x(ds,vs),x(vs,Es),x(ds,gs),q(a,$s,o),q(a,bs,o),x(bs,qs),x(bs,xs),x(xs,ys),x(bs,Cs),x(bs,js),x(js,ws),x(bs,Ps),x(bs,Os),x(Os,Ds),x(bs,zs),q(a,Ls,o),q(a,Rs,o),x(Rs,Ts),x(Rs,Ss),x(Ss,As),q(a,Hs,o),c(Qs,a,o),_s=!0},p(a,e){const s={};2&e&&(s.$$scope={dirty:e,ctx:a}),n.$set(s);const o={};2&e&&(o.$$scope={dirty:e,ctx:a}),d.$set(o);const t={};2&e&&(t.$$scope={dirty:e,ctx:a}),_e.$set(t);const c={};2&e&&(c.$$scope={dirty:e,ctx:a}),Ne.$set(c);const r={};2&e&&(r.$$scope={dirty:e,ctx:a}),Je.$set(r);const p={};2&e&&(p.$$scope={dirty:e,ctx:a}),es.$set(p);const l={};2&e&&(l.$$scope={dirty:e,ctx:a}),Qs.$set(l)},i(a){_s||(l(n.$$.fragment,a),l(d.$$.fragment,a),l(_e.$$.fragment,a),l(Ne.$$.fragment,a),l(Je.$$.fragment,a),l(es.$$.fragment,a),l(Qs.$$.fragment,a),_s=!0)},o(a){u(n.$$.fragment,a),u(d.$$.fragment,a),u(_e.$$.fragment,a),u(Ne.$$.fragment,a),u(Je.$$.fragment,a),u(es.$$.fragment,a),u(Qs.$$.fragment,a),_s=!1},d(a){i(n,a),a&&$(e),a&&$(s),a&&$(p),i(d,a),a&&$(y),a&&$(R),a&&$(S),a&&$(A),a&&$(F),a&&$(W),a&&$(Z),a&&$(K),a&&$(ra),a&&$(pa),a&&$(ha),a&&$(va),a&&$(Ga),a&&$(Ia),a&&$(pn),a&&$(ln),a&&$(kn),a&&$(mn),a&&$(vn),a&&$(En),a&&$($n),a&&$(bn),a&&$(xn),a&&$(yn),a&&$(jn),a&&$(wn),a&&$(On),a&&$(Dn),a&&$(zn),a&&$(Ln),a&&$(An),a&&$(Hn),a&&$(Wn),a&&$(Zn),a&&$(de),a&&$(fe),a&&$(me),a&&$(he),a&&$(ye),a&&$(Ce),a&&$(je),a&&$(we),a&&$(Oe),a&&$(De),a&&$(Qe),i(_e,a),a&&$(Me),i(Ne,a),a&&$(Ue),i(Je,a),a&&$(Ge),a&&$(Ie),a&&$(Xe),a&&$(Ye),a&&$(ns),i(es,a),a&&$(ss),a&&$(os),a&&$(ls),a&&$(us),a&&$(is),a&&$(ds),a&&$($s),a&&$(bs),a&&$(Ls),a&&$(Rs),a&&$(Hs),i(Qs,a)}}}function T(a){let n,e;const d=[a[0],S];let f={$$slots:{default:[R]},$$scope:{ctx:a}};for(let o=0;o<d.length;o+=1)f=s(f,d[o]);return n=new y({props:f}),{c(){o(n.$$.fragment)},l(a){t(n.$$.fragment,a)},m(a,s){c(n,a,s),e=!0},p(a,[e]){const s=1&e?r(d,[1&e&&p(a[0]),0&e&&p(S)]):{};2&e&&(s.$$scope={dirty:e,ctx:a}),n.$set(s)},i(a){e||(l(n.$$.fragment,a),e=!0)},o(a){u(n.$$.fragment,a),e=!1},d(a){i(n,a)}}}const S={date:"2021-01-04T11:00:00.000Z",banner:"https://res.cloudinary.com/matiasfha/image/upload/v1617320273/nick-bolton-BchlCdwbtMo-unsplash_pgdsfn.jpg",keywords:["Javascript","Closures","React","Fundamentos","Stale Closure"],tag:"Seed",title:"¿Qué es un closure en Javascript?",description:"¿Qué es un Closure y por que es relevante al desarrollar con React u otro framework?",bannerCredit:'Photo by <a href="https://unsplash.com/@nickrbolton?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Nick Bolton</a> on <a href="https://unsplash.com/s/photos/closure?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a>',favorite:!0,lang:"es"};function A(a,n,e){return a.$$set=a=>{e(0,n=s(s({},n),d(a)))},[n=d(n)]}class H extends a{constructor(a){super(),n(this,a,A,T,e,{})}}export{H as default,S as metadata};
